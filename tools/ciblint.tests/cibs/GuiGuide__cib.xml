 <cib admin_epoch="0" have_quorum="true" num_peers="2" cib_feature_revision="1.2" crm_feature_set="1.0.3" generated="true" epoch="172" num_updates="57085" cib-last-written="Tue May  2 07:34:24 2006" crm-debug-origin="create_node_entry" ccm_transition="2" dc_uuid="6d3906ef-d88f-4363-afac-609884ddbb90">
   <configuration>
     <crm_config>
       <cluster_property_set id="cib-bootstrap-options">
         <attributes>
           <nvpair name="default_resource_stickiness" id="cib-bootstrap-options-default_resource_stickiness" value="0"/>
           <nvpair id="cib-bootstrap-options-transition_idle_timeout" name="transition_idle_timeout" value="61s"/>
           <nvpair id="symmetric_cluster" name="symmetric_cluster" value="true"/>
           <nvpair id="no_quorum_policy" name="no_quorum_policy" value="stop"/>
           <nvpair id="default_resource_stickiness" name="default_resource_stickiness" value="0"/>
           <nvpair id="default_resource_failure_stickiness" name="default_resource_failure_stickiness" value="0"/>
           <nvpair id="stonith_enabled" name="stonith_enabled" value="false"/>
           <nvpair id="stop_orphan_resources" name="stop_orphan_resources" value="true"/>
           <nvpair id="stop_orphan_actions" name="stop_orphan_actions" value="true"/>
           <nvpair id="remove_after_stop" name="remove_after_stop" value="true"/>
           <nvpair id="is_managed_default" name="is_managed_default" value="true"/>
           <nvpair id="short_resource_names" name="short_resource_names" value="true"/>
         </attributes>
       </cluster_property_set>
     </crm_config>
     <nodes>
       <node uname="paul" type="normal" id="6d3906ef-d88f-4363-afac-609884ddbb90">
         <instance_attributes id="standby-6d3906ef-d88f-4363-afac-609884ddbb90">
           <attributes>
             <nvpair name="standby" id="standby-6d3906ef-d88f-4363-afac-609884ddbb90" value="off"/>
           </attributes>
         </instance_attributes>
       </node>
       <node uname="silas" type="normal" id="d47c5806-a54c-45a3-9e22-2fe8dd27336f">
         <instance_attributes id="standby-d47c5806-a54c-45a3-9e22-2fe8dd27336f">
           <attributes>
             <nvpair name="standby" id="standby-d47c5806-a54c-45a3-9e22-2fe8dd27336f" value="off"/>
           </attributes>
         </instance_attributes>
       </node>
     </nodes>
     <resources>
       <group id="fileserver">
         <primitive class="heartbeat" id="datadisk_home_1" provider="heartbeat" type="datadisk">
           <operations>
             <op id="datadisk_1_mon" interval="120s" name="monitor" timeout="60s"/>
           </operations>
           <instance_attributes id="datadisk_1_attributes">
             <attributes>
               <nvpair id="datadisk_1_attr_1" name="1" value="home"/>
             </attributes>
           </instance_attributes>
         </primitive>
         <primitive class="ocf" id="Filesystem_2" provider="heartbeat" type="Filesystem">
           <operations>
             <op id="Filesystem_2_mon" interval="120s" name="monitor" timeout="60s"/>
           </operations>
           <instance_attributes id="filesystem_attributes">
             <attributes>
               <nvpair id="Filesystem_2_device" name="device" value="/dev/drbd0"/>
               <nvpair id="Filesystem_2_directory" name="directory" value="/home"/>
               <nvpair id="Filesystem_2_fstype" name="fstype" value="reiserfs"/>
             </attributes>
           </instance_attributes>
         </primitive>
         <primitive class="heartbeat" id="drbdlinks_home" type="drbdlinks">
           <instance_attributes id="drbdlinks_home_attributes">
             <attributes>
               <nvpair id="drbdlinks_home_attr_1" name="1" value="--config-file"/>
               <nvpair id="drbdlinks_home_attr_2" name="2" value="/home/etc/drbdlinks.home.conf"/>
             </attributes>
           </instance_attributes>
         </primitive>
         <primitive class="lsb" type="nfsserver" id="nfsserver">
           <operations>
             <op id="nfsserver_mon" interval="30s" name="monitor" timeout="60s"/>
           </operations>
           <instance_attributes id="nfsserver_attributes">
             <attributes/>
           </instance_attributes>
         </primitive>
         <primitive class="ocf" id="IPaddr_10_10_10_20" provider="heartbeat" type="IPaddr">
           <operations>
             <op id="IPaddr_5_mon" interval="5s" name="monitor" timeout="5s"/>
           </operations>
           <instance_attributes id="ipaddr_10_10_10_20_attributes">
             <attributes>
               <nvpair id="IPaddr_5_attr_0" name="ip" value="10.10.10.20"/>
             </attributes>
           </instance_attributes>
         </primitive>
         <primitive class="lsb" id="nmb_p" type="nmb">
           <operations>
             <op id="nmb_p_mon" interval="30s" name="monitor" timeout="60s"/>
           </operations>
         </primitive>
         <primitive class="lsb" id="smb_p" type="smb">
           <operations>
             <op id="smb_p_mon" interval="30s" name="monitor" timeout="60s"/>
           </operations>
         </primitive>
       </group>
       <group id="G_utility">
         <primitive id="R_drbd1" class="heartbeat" type="datadisk" provider="heartbeat">
           <instance_attributes>
             <attributes>
               <nvpair id="7884db28-77c0-4c32-acb8-00fe5d047c25" name="1" value="drbd1"/>
             </attributes>
           </instance_attributes>
           <operations>
             <op id="0978d7de-8fb4-43ba-a101-1de37089ba6a" name="monitor" interval="15s" timeout="60s"/>
           </operations>
         </primitive>
         <primitive id="R_fs_drbd1" class="ocf" type="Filesystem" provider="heartbeat">
           <instance_attributes>
             <attributes>
               <nvpair id="55e66a89-a970-4e4e-abcb-e36672ab1c28" name="device" value="/dev/drbd1"/>
               <nvpair id="af440bd0-518f-4a1c-a4a4-0ef87410b598" name="directory" value="/drbd1"/>
               <nvpair id="38eaa3fc-7c66-4c62-9bfa-077a69b8ae0b" name="fstype" value="reiserfs"/>
             </attributes>
           </instance_attributes>
           <operations>
             <op id="c98b41eb-bcfd-4c55-8017-39efb208ffae" name="monitor" interval="15s" timeout="60s"/>
           </operations>
         </primitive>
         <primitive id="R_drbdlinks_drbd1" class="heartbeat" type="drbdlinks" provider="heartbeat">
           <instance_attributes>
             <attributes>
               <nvpair id="a19dac45-2479-46c3-9fb5-0d7fb8a6a08f" name="1" value="--config-file"/>
               <nvpair id="608f6ac4-ec75-41a5-94ed-63d93b7496b5" name="2" value="/drbd1/etc/drbdlinks.conf"/>
             </attributes>
           </instance_attributes>
           <operations>
             <op id="85c9b83b-231e-4d75-8a02-39e25fb6cbb7" name="monitor" interval="60s" timeout="60s"/>
           </operations>
         </primitive>
       </group>
       <primitive id="R_dhcpd" class="lsb" type="dhcpd" provider="heartbeat">
         <instance_attributes>
           <attributes/>
         </instance_attributes>
         <operations>
           <op id="aa637f8a-b01d-498d-8aba-c6af08fe926c" name="monitor" interval="15s" timeout="60s"/>
         </operations>
       </primitive>
       <primitive id="R_named" class="lsb" type="named" provider="heartbeat">
         <instance_attributes>
           <attributes/>
         </instance_attributes>
         <operations>
           <op id="584eab21-f7de-4605-b21f-3d20997b6fe6" name="monitor" interval="15s" timeout="60s"/>
         </operations>
       </primitive>
       <primitive id="R_postfix" class="lsb" type="postfix" provider="heartbeat">
         <instance_attributes>
           <attributes/>
         </instance_attributes>
         <operations>
           <op id="81d4da47-a69a-4d42-aa76-0b139faa1fac" name="monitor" interval="15s" timeout="60s"/>
         </operations>
       </primitive>
       <primitive id="R_10.10.10.21" class="ocf" type="IPaddr2" provider="heartbeat">
         <instance_attributes>
           <attributes>
             <nvpair id="ddeb1e67-f5de-42dc-ab83-8a1111f8f7ad" name="ip" value="10.10.10.21"/>
             <nvpair id="28348491-c7ef-41de-b7f0-67a3f124b7e9" name="iflabel" value="21"/>
           </attributes>
         </instance_attributes>
         <operations>
           <op id="6156cb90-3e0d-49c4-aa81-a8dea69ec973" name="monitor" interval="15s" timeout="60s"/>
         </operations>
       </primitive>
       <primitive id="R_MailTo" class="ocf" type="MailTo" provider="heartbeat">
         <instance_attributes>
           <attributes>
             <nvpair id="44b0bd1a-3795-4a20-aaab-58df706bc39b" name="email" value="alanr@unix.sh"/>
             <nvpair id="4d763860-6a5d-425b-8a13-986f4ede82dc" name="subject" value="Failover!"/>
           </attributes>
         </instance_attributes>
       </primitive>
     </resources>
     <constraints>
       <rsc_order id="O_dhcpd" from="R_dhcpd" type="after" to="G_utility"/>
       <rsc_order id="O_named" from="R_named" type="after" to="G_utility"/>
       <rsc_order id="O_postfix" from="R_postfix" type="after" to="G_utility"/>
       <rsc_order id="O_postfix_ip" from="R_postfix" type="after" to="R_10.10.10.21"/>
       <rsc_colocation id="C_10.10.10.21" from="R_10.10.10.21" to="G_utility" score="INFINITY"/>
       <rsc_colocation id="C_postfix" from="R_postfix" to="G_utility" score="INFINITY"/>
       <rsc_colocation id="C_dhcpd" from="R_dhcpd" to="G_utility" score="INFINITY"/>
       <rsc_colocation id="C_named" from="R_named" to="G_utility" score="INFINITY"/>
       <rsc_location id="run_web" rsc="fileserver">
         <rule id="prefered_run_web" score="500">
           <expression attribute="#uname" id="0a06a53b-4b0a-46f2-85af-8e8bc7a1697c" operation="eq" value="paul"/>
         </rule>
       </rsc_location>
       <rsc_location id="run_web2" rsc="fileserver">
         <rule id="prefered_run_web2" score="100">
           <expression attribute="#uname" id="cd6f3a25-4e24-45fc-ba5c-5a0affef87cc" operation="eq" value="silas"/>
         </rule>
       </rsc_location>
       <rsc_location id="run_web3" rsc="fileserver">
         <rule id="prefered_run_web3" score="1">
           <expression attribute="#uname" id="5bd255c5-78b2-494c-b21c-e28e52effa21" operation="eq" value="someothernode"/>
         </rule>
       </rsc_location>
       <rsc_colocation id="C_MailTo" from="R_MailTo" to="G_utility" score="INFINITY"/>
       <rsc_order id="O_MailTo" from="R_MailTo" type="after" to="R_postfix"/>
     </constraints>
   </configuration>
 </cib>
