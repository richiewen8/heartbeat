<?xml version="1.0" ?>
<cib generated="false"  admin_epoch="0" have_quorum="true" num_peers="1">
	<configuration>
		<crm_config>
			<cluster_property_set id="cib-bootstrap-options">
				<attributes>
					<nvpair id="cib-bootstrap-options-symmetric-cluster" name="symmetric-cluster" value="true"/>
					<nvpair id="cib-bootstrap-options-no-quorum-policy" name="no-quorum-policy" value="stop"/>
					<nvpair id="cib-bootstrap-options-default-resource-stickiness" name="default-resource-stickiness" value="0"/>
					<nvpair id="cib-bootstrap-options-default-resource-failure-stickiness" name="default-resource-failure-stickiness" value="0"/>
					<nvpair id="cib-bootstrap-options-stonith-enabled" name="stonith-enabled" value="false"/>
					<nvpair id="cib-bootstrap-options-stonith-action" name="stonith-action" value="reboot"/>
					<nvpair id="cib-bootstrap-options-stop-orphan-resources" name="stop-orphan-resources" value="true"/>
					<nvpair id="cib-bootstrap-options-stop-orphan-actions" name="stop-orphan-actions" value="true"/>
					<nvpair id="cib-bootstrap-options-remove-after-stop" name="remove-after-stop" value="false"/>
					<nvpair id="cib-bootstrap-options-short-resource-names" name="short-resource-names" value="true"/>
					<nvpair id="cib-bootstrap-options-transition-idle-timeout" name="transition-idle-timeout" value="5min"/>
					<nvpair id="cib-bootstrap-options-default-action-timeout" name="default-action-timeout" value="15s"/>
					<nvpair id="cib-bootstrap-options-is-managed-default" name="is-managed-default" value="true"/>
				</attributes>
			</cluster_property_set>
			<cluster_property_set id="default">
			  <attributes>
			    <nvpair id="symmetric_cluster" name="symmetric_cluster" value="false"/>
			    <nvpair id="no_quorum_policy" name="no_quorum_policy" value="stop"/>
			    <nvpair id="default_resource_stickiness" name="default_resource_stickiness" value="0"/>
			    <nvpair id="stonith_enabled" name="stonith_enabled" value="false"/>
			    <nvpair id="stop_orphan_resources" name="stop_orphan_resources" value="false"/>
			    <nvpair id="stop_orphan_actions" name="stop_orphan_actions" value="true"/>
			    <nvpair id="remove_after_stop" name="remove_after_stop" value="false"/>
			    <nvpair id="short_resource_names" name="short_resource_names" value="true"/>
			    <nvpair id="transition_idle_timeout" name="transition_idle_timeout" value="5min"/>
			    <nvpair id="is_managed_default" name="is_managed_default" value="true"/>
			  </attributes>
      </cluster_property_set>
		</crm_config>
		<nodes/>
		<resources>
			<group id="cronus_group">
				<primitive class="ocf" id="cronus_IP" provider="heartbeat" type="IPaddr">
					<operations>
						<op id="cronus_IP_mon" interval="5s" name="monitor" timeout="5s"/>
					</operations>
					<instance_attributes id="cronus_IP_inst_attr">
						<attributes>
							<nvpair id="cronus_IP_attr_0" name="ip" value="x.x.x.x"/>
							<nvpair id="cronus_IP_attr_1" name="netmask" value="27"/>
							<nvpair id="cronus_IP_attr_2" name="nic" value="em0"/>
						</attributes>
					</instance_attributes>
				</primitive>
				<primitive class="heartbeat" id="cronus_apache2" provider="heartbeat" type="apache">
				  <instance_attributes id="cronus_apache2_inst_attr">
				    <operations>
  						<op id="cronus_apache2_mon" interval="120s" name="monitor" timeout="60s"/>
  					</operations>
            <attributes>
              <nvpair id="cronus_apache2_conf" name="1" value="/usr/local/apache2/conf/httpd.conf" />
            </attributes>
          </instance_attributes>
				</primitive>
				<primitive class="ocf" id="cronus_postgresql" provider="heartbeat" type="postgresql">
				  <operations>
						<op id="cronus_postgresql_mon" interval="120s" name="monitor" timeout="60s"/>
					</operations>
				  <instance_attributes id="cronus_postgresql_inst_attr">
				    <attributes>
              <nvpair id="cronus_postgresql_pgctl" name="pgctl" value="/usr/local/pgsql/bin/pg_ctl"/>
              <nvpair id="cronus_postgresql_start_opt" name="start_opt" value="-i -h example.com -p 7520"/>
              <nvpair id="cronus_postgresql_psql" name="psql" value="/usr/local/pgsql/bin/psql"/>
              <nvpair id="cronus_postgresql_pgdata" name="pgdata" value="/usr/local/pgsq/data"/>
              <nvpair id="cronus_postgresql_pgdba" name="pgdba" value="postgres"/>
              <nvpair id="cronus_postgresql_pglog" name="pglog" value="/usr/local/pgsql/log/logfile"/>
            </attributes>
          </instance_attributes>
				</primitive>
			</group>
			<group id="posedion_group">
				<primitive class="ocf" id="posedion_IP" provider="heartbeat" type="IPaddr">
					<operations>
						<op id="posedion_IP_mon" interval="5s" name="monitor" timeout="5s"/>
					</operations>
					<instance_attributes id="posedion_IP_inst_attr">
						<attributes>
							<nvpair id="posedion_IP_attr_0" name="ip" value="x.x.x.x"/>
							<nvpair id="posedion_IP_attr_1" name="netmask" value="27"/>
							<nvpair id="posedion_IP_attr_2" name="nic" value="bge0"/>
						</attributes>
					</instance_attributes>
				</primitive>
				<primitive class="heartbeat" id="poseidon_apache2" provider="heartbeat" type="apache">
				  <operations>
						<op id="posedion_apache2_mon" interval="120s" name="monitor" timeout="60s"/>
					</operations>
				  <instance_attributes id="poseidon_apache2_inst_attr">
            <attributes>
              <nvpair id="poseidon_apache2_conf" name="1" value="/usr/local/apache2/conf/httpd.conf" />
            </attributes>
          </instance_attributes>
				</primitive>
				<primitive class="ocf" id="posedion_postgresql" provider="heartbeat" type="postgresql">
				  <operations>
						<op id="posedion_postgresql_mon" interval="120s" name="monitor" timeout="60s"/>
					</operations>
				  <instance_attributes id="poseidon_postgresql_inst_attr">
				    <attributes>
              <nvpair id="poseidon_postgresql_pgctl" name="pgctl" value="/usr/local/pgsql/bin/pg_ctl"/>
              <nvpair id="poseidon_postgresql_start_opt" name="start_opt" value="-i -h example -p 7520"/>
              <nvpair id="poseidon_postgresql_psql" name="psql" value="/usr/local/pgsql/bin/psql"/>
              <nvpair id="poseidon_postgresql_pgdata" name="pgdata" value="/usr/local/pgsq/data"/>
              <nvpair id="poseidon_postgresql_pgdba" name="pgdba" value="postgres"/>
              <nvpair id="poseidon_postgresql_pglog" name="pglog" value="/usr/local/pgsql/log/logfile"/>
            </attributes>
          </instance_attributes>
				</primitive>
				<primitive class="lsb" id="posedion_postfix" provider="heartbeat" type="postfix">
					<operations>
						<op id="posedion_postfix_mon" interval="120s" name="monitor" timeout="60s"/>
					</operations>
				</primitive>
			</group>
		</resources>
		<constraints>
			<rsc_location id="rsc_location_cronus_group" rsc="cronus_group">
				<rule id="prefered_location_cronus_group" score="100">
					<expression attribute="#uname" id="prefered_location_cronus_group_expr" operation="eq" value="example.com"/>
				</rule>
			</rsc_location>
			<rsc_location id="rsc_location_posedion_group" rsc="poseidon_group">
				<rule id="prefered_location_posedion_group" score="100">
					<expression attribute="#uname" id="prefered_location_posedion_group_expr" operation="eq" value="example.com"/>
				</rule>
			</rsc_location>
		</constraints>
	</configuration>
	<status/>
</cib>
