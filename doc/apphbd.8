.hy 0
.if n .na

.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}

.TH APPHBD 8 "6 December 2002"
.SH NAME
apphbd \- Application Heartbeat for High-Availability Linux
.SH SYNOPSIS
.B apphbd
.nh
.RI "[ -skrld ] [ -w wathdog-device ] [ -n plugin ]"
.SH DESCRIPTION
\fBapphbd\fP is a basic application heartbeat daemon for Linux-HA.
Applications may register with the daemon in order to be monitored.
The applications specify an interval for sending "heartbeats" 
to the daemon.  If an application fails to send a heartbeat
within the specified interval, the daemon will log an event
and identify the application and the error.
.PP
For details relating to the application heartbeat API, see
.BR apphb.h
\.
.PP
.SH OPTIONS
.IP -s  
Provides the status of apphbd, such as if it is running or stopped.
.IP -k
Stops (kills) the daemon
.IP -r 
Restarts the daemon using the configured watchdog device
.IP "-w watchdog-device"
Allows specification of a watchdog device file to open
(such as /dev/watchdog). When used, the daemon will write to the device
every 1000ms.  In order to take full advantage of this feature, a 
hardware watchdog should be used such that if the device is 
not written to within a specified interval, the watchdog will 
reboot the system (or perform some other pre-configured action 
specific to the watchdog being used).  

.IP -l 
Runs the daemon at low priority instead of the default real-time
scheduling
.IP "-n plugin"
Loads the specified plugin.  
The default plugin directory is
.BR /usr/lib/heartbeat/plugins/AppHBNotification .
Each notification plugin that is successfully 
loaded will receive events related to registered applications.
These are specified in the header file 
.BR apphb_notify.h .

 
.IP -d
Increments the debug level.
.SH FILES
.I /var/run/apphbd/apphbd.pid  
This is the default PID file.

.SH DOCUMENTATION
.PP
More information may be found at http://www.linux-ha.org.

.SH BUGS
Currently, the update of the watchdog timer is not configurable.  
Care should be taken to avoid a watchdog timer configuration that 
does not provide sufficient time for the apphbd to reset the timer
under normal circumstances.

.SH AUTHORS
.nf
apphbd - Alan Robertson <alanr@unix.sh> et al.
man page - Andrea Brugger <andrea.l.brugger@intel.com>
.fi

